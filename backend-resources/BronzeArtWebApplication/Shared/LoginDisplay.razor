@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject ILanguageContainerService languageContainer
@inject BronzeUser bronzeUser


<AuthorizeView>
    <Authorized>
        <div class="d-flex flex-row">
            <MudButton OnClick="BeginLogout"
                       Style="text-transform:none"
                       Variant="Variant.Text"
                       EndIcon="@Icons.Material.Filled.Logout"
                       Class="pa-1 px-2 my-2">
                <MudHidden Breakpoint="Breakpoint.Xs">
                    <MudText Typo="Typo.subtitle2">
                        @($"{context.User.Identity.Name} - {LogoutString}")
                    </MudText>
                </MudHidden>
            </MudButton>
        </div>
    </Authorized>
    <NotAuthorized>
        @if (bronzeUser.IsWhiteLabeled == false)
        {
            <MudButton OnClick="@(()=>Navigation.NavigateTo("authentication/login"))"
                   Style="text-transform:none"
                   Variant="Variant.Text"
                   EndIcon="@Icons.Material.Filled.Login"
                   Class="pa-1 pl-2 pr-2">
                <MudHidden Breakpoint="Breakpoint.Xs">
                    @($"{LoginString}")
                </MudHidden>
            </MudButton>
        }
    </NotAuthorized>
</AuthorizeView>

@code {



    // For authenticated users:
    // Displays the current username.
    // Offers a button to log out of the app.
    // For anonymous users, offers the option to log in.
}
