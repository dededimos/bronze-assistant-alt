<UserControl x:Class="BronzeFactoryApplication.Views.Modals.EditUserAccessoriesOptionsModalUC"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:BronzeFactoryApplication.Views.Modals"
             xmlns:cc="clr-namespace:TasCustomControlsLibrary.CustomControls;assembly=TasCustomControlsLibrary"
             xmlns:b="clr-namespace:BronzeFactoryApplication.Helpers.Behaviours"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:hc="https://handyorg.github.io/handycontrol"
             xmlns:vm="clr-namespace:BronzeFactoryApplication.ViewModels.ModalViewModels"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance Type=vm:EditUserAccOptionsModalViewModel}">
    <Grid x:Name="MainGrid">
        <Grid.Resources>
            <CollectionViewSource x:Key="UserOptionsViewSource"
                                  Source="{Binding Options}"
                                  Filter="CollectionViewSource_Filter" />
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>

        <!--#region Users DataGrid -->
        <TextBlock Text="{StaticResource lngUserAccOptions}"
                   Style="{StaticResource CHeaderTextBlock}"
                   HorizontalAlignment="Center"
                   Margin="0,10"
                   Grid.Row="0"
                   Grid.Column="0" />
        <DockPanel Grid.Row="1"
                   Grid.Column="0"
                   HorizontalAlignment="Stretch"
                   LastChildFill="False"
                   Margin="10,0">
            <Button hc:IconElement.Geometry="{StaticResource SettingsGeometry}"
                    Content="{StaticResource lngCustomPriceRules}"
                    ToolTip="{StaticResource lngCustomPriceRules}"
                    Foreground="{DynamicResource SecondaryBrush}"
                    DockPanel.Dock="Left"
                    Command="{Binding OpenCustomPriceRulesCommand}" />
        </DockPanel>
        <StackPanel Orientation="Vertical"
                    Grid.Row="2"
                    Grid.Column="0"
                    Margin="10,0">
            <DataGrid ItemsSource="{Binding Source={StaticResource UserOptionsViewSource}}"
                      AutoGenerateColumns="False"
                      SelectedItem="{Binding SelectedOptions}"
                      CellStyle="{StaticResource CenteredDataGridCellSmall}"
                      Style="{StaticResource CDataGrid}"
                      RowStyle="{StaticResource DataGridRowStyle}"
                      FontSize="15"
                      ColumnHeaderStyle="{StaticResource CenteredDataGridColumnHeaderSmall}"
                      HorizontalAlignment="Stretch"
                      EnableRowVirtualization="True"
                      hc:DataGridAttach.ShowRowNumber="True"
                      Height="650"
                      Padding="20,20,20,0"
                      BorderThickness="4"
                      VerticalAlignment="Top">
                <DataGrid.ItemsPanel>
                    <ItemsPanelTemplate>
                        <VirtualizingStackPanel />
                    </ItemsPanelTemplate>
                </DataGrid.ItemsPanel>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="{StaticResource lngName}"
                                        Binding="{Binding Name,Converter={StaticResource LocalizedStringConverter}}" />
                    <DataGridTextColumn Header="{StaticResource lngInformation}"
                                        Binding="{Binding OptionsSummaryString , Mode=OneWay}" />
                </DataGrid.Columns>
            </DataGrid>
            <!--#region Filters -->
            <StackPanel HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Margin="0,20">
                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource CHeaderTextBlock}"
                               Text="{StaticResource lngFilters}" />
                    <Button Style="{StaticResource ButtonIcon}"
                            hc:IconElement.Geometry="{StaticResource DeleteFillCircleGeometry}"
                            Foreground="{DynamicResource SecondaryBrush}"
                            Click="ClearFiltersClick" />
                </StackPanel>
                <StackPanel Orientation="Horizontal"
                            Margin="0,10">
                    <StackPanel Margin="5,0">
                        <TextBlock Style="{StaticResource TitleTextBlockStyle}"
                                   Text="{StaticResource lngName}" />
                        <TextBox x:Name="NameFilterTextBox"
                                 Width="200"
                                 KeyDown="NameFilterTextBox_KeyDown" />
                    </StackPanel>
                    <Button Style="{StaticResource ButtonIcon}"
                            hc:IconElement.Geometry="{StaticResource SearchGeometry}"
                            Foreground="{DynamicResource SecondaryBrush}"
                            Click="ApplyFilters"
                            VerticalAlignment="Bottom" />
                </StackPanel>
            </StackPanel>
            <!--#endregion-->
        </StackPanel>
        <!--#endregion-->

        <!--#region Edit User Options Area -->
        <!--#region Title -->
        <TextBlock HorizontalAlignment="Center"
                   Margin="10"
                   Grid.Row="0"
                   Grid.Column="1">
            <TextBlock.Style>
                <Style TargetType="TextBlock"
                       BasedOn="{StaticResource CHeaderTextBlock}">
                    <Setter Property="Text"
                            Value="{StaticResource lngSelectedOptions}" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsSelectedOptionsNew}"
                                     Value="True">
                            <Setter Property="Text"
                                    Value="{StaticResource lngNewUserOptions}" />
                            <Setter Property="Foreground"
                                    Value="{DynamicResource SecondaryBrush}" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </TextBlock.Style>
        </TextBlock>
        <!--#endregion-->

        <!--#region User Options Buttons -->
        <DockPanel Grid.Row="1"
                   Grid.Column="1"
                   HorizontalAlignment="Stretch"
                   LastChildFill="False"
                   Margin="10,0">
            <Button Style="{StaticResource SaveButton}"
                    Foreground="{DynamicResource SecondaryBrush}"
                    DockPanel.Dock="Left"
                    IsEnabled="{Binding CanEditOptions}"
                    Command="{Binding SaveOptionCommand}" />
            <Button Content="{StaticResource lngNewUserOptions}"
                    Margin="10,0"
                    Foreground="{DynamicResource SecondaryBrush}"
                    hc:IconElement.Geometry="{StaticResource AddGeometry}"
                    DockPanel.Dock="Left"
                    Command="{Binding CreateNewOptionCommand}" />
            <Button Content="{StaticResource lngDeleteOptions}"
                    Foreground="{DynamicResource DangerBrush}"
                    hc:IconElement.Geometry="{StaticResource RemoveGeometry}"
                    DockPanel.Dock="Right"
                    IsEnabled="{Binding IsSelectedOptionsNew , Converter={StaticResource Boolean2BooleanReConverter}}"
                    Command="{Binding DeleteOptionCommand}" />
        </DockPanel>
        <!--#endregion-->

        <!--#region User Options Properties -->
        <Border Grid.Row="2"
                Grid.Column="1"
                Margin="10,0"
                Width="800"
                IsEnabled="{Binding CanEditOptions}"
                Padding="10">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="BorderBrush"
                            Value="{DynamicResource BorderBrush}" />
                    <Setter Property="BorderThickness"
                            Value="4" />
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsSelectedOptionsNew}"
                                     Value="True">
                            <Setter Property="BorderBrush"
                                    Value="{DynamicResource SecondaryBrush}" />
                            <Setter Property="BorderThickness"
                                    Value="1" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <StackPanel>

                <DockPanel HorizontalAlignment="Stretch">
                    <StackPanel VerticalAlignment="Center"
                                HorizontalAlignment="Left">
                        
                        <!--#region 0. Is Enabled -->
                        <DockPanel Margin="0,0,0,10"
                                   HorizontalAlignment="Left"
                                   DockPanel.Dock="Left">
                            <cc:Icon ToolTip="{StaticResource lngEnabledTooltip}"
                                     Style="{StaticResource CInfoTooltipIcon}"
                                     Margin="10,0,5,0" />
                            <CheckBox IsChecked="{Binding OptionsUnderEdit.IsEnabled}"
                                      Content="{StaticResource lngEnabled}" />
                        </DockPanel>
                        <!--#endregion-->

                        <!--#region Name -->
                        <StackPanel Orientation="Horizontal"
                                    x:Name="NameStackPanel">
                            <Button Style="{StaticResource EditLocalizedStringVmButtonStyle}"
                                    Command="{Binding EditLocalizedStringCommand}"
                                    CommandParameter="Name" />
                            <TextBlock Text="{StaticResource lngName}"
                                       Width="150"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center" />
                            <TextBlock Text=" : "
                                       VerticalAlignment="Center" />
                            <TextBlock Text="{Binding OptionsUnderEdit.BaseDescriptiveEntity.Name.MinifiedDefaultValue}"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                        <!--#endregion-->

                        <!--#region Description -->
                        <StackPanel Orientation="Horizontal">
                            <Button Style="{StaticResource EditLocalizedStringVmButtonStyle}"
                                    Command="{Binding EditLocalizedStringCommand}"
                                    CommandParameter="Description" />
                            <TextBlock Text="{StaticResource lngDescription}"
                                       Width="150"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center" />
                            <TextBlock Text=" : "
                                       VerticalAlignment="Center" />
                            <TextBlock Text="{Binding OptionsUnderEdit.BaseDescriptiveEntity.Description.MinifiedDefaultValue}"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                        <!--#endregion-->

                        <!--#region Extended Description -->
                        <StackPanel Orientation="Horizontal">
                            <Button Style="{StaticResource EditLocalizedStringVmButtonStyle}"
                                    Command="{Binding EditLocalizedStringCommand}"
                                    CommandParameter="ExtendedDescription" />
                            <TextBlock Text="{StaticResource lngExtendedDescription}"
                                       Width="150"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Center" />
                            <TextBlock Text=" : "
                                       VerticalAlignment="Center" />
                            <TextBlock Text="{Binding OptionsUnderEdit.BaseDescriptiveEntity.ExtendedDescription.MinifiedDefaultValue}"
                                       VerticalAlignment="Center" />
                        </StackPanel>
                        <!--#endregion-->
                        
                    </StackPanel>
                    
                    <!--#region Price and Dimensions Group -->
                    <StackPanel Margin="5"
                                Grid.Row="5"
                                Grid.Column="0"
                                HorizontalAlignment="Right">

                        <!--#region 1.Price Group -->
                        <StackPanel x:Name="PriceStackPanel"
                                    Margin="0,5"
                                    Width="200"
                                    VerticalAlignment="Center">
                            <DockPanel>
                                <cc:Icon ToolTip="{StaticResource lngPricesGroupTooltip}"
                                         Style="{StaticResource CInfoTooltipIcon}" />
                                <TextBlock x:Name="SizeTextBlock"
                                           Style="{StaticResource TitleTextBlockStyle}"
                                           Text="{StaticResource lngPricesGroup}">
                                </TextBlock>
                            </DockPanel>
                            <hc:ComboBox x:Name="PricesGroupComboBox"
                                         ItemsSource="{Binding OptionsUnderEdit.PriceGroups, Mode=OneWay}"
                                         SelectedValue="{Binding OptionsUnderEdit.SelectedPriceGroupId}"
                                         SelectedValuePath="IdAsString"
                                         HorizontalContentAlignment="Stretch"
                                         hc:InfoElement.ShowClearButton="True">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel HorizontalAlignment="Stretch"
                                                   LastChildFill="True">
                                            <TextBlock Text="{Binding Name,Converter={StaticResource LocalizedStringConverter} }" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </hc:ComboBox>
                        </StackPanel>
                        <!--#endregion-->

                        <!--#region 2.Dimensions Group -->
                        <StackPanel x:Name="DimensionsStackPanel"
                                    Margin="0,5"
                                    Width="200"
                                    VerticalAlignment="Center">
                            <DockPanel>
                                <cc:Icon ToolTip="{StaticResource lngAppearingDimensionsGroupTooltip}"
                                         Style="{StaticResource CInfoTooltipIcon}" />
                                <TextBlock x:Name="DimensionsTextBlock"
                                           Style="{StaticResource TitleTextBlockStyle}"
                                           Text="{StaticResource lngAppearingDimensionsGroup}">
                                </TextBlock>
                            </DockPanel>
                            <hc:ComboBox x:Name="DimensionsGroupComboBox"
                                         ItemsSource="{Binding OptionsUnderEdit.AppearingDimensionsGroups, Mode=OneWay}"
                                         SelectedValue="{Binding OptionsUnderEdit.SelectedAppearingDimensionsGroupId}"
                                         SelectedValuePath="IdAsString"
                                         HorizontalContentAlignment="Stretch"
                                         hc:InfoElement.ShowClearButton="True">
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel HorizontalAlignment="Stretch"
                                                   LastChildFill="True">
                                            <TextBlock Text="{Binding Name,Converter={StaticResource LocalizedStringConverter} }" />
                                        </DockPanel>
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </hc:ComboBox>
                        </StackPanel>
                        <!--#endregion-->

                    </StackPanel>
                    <!--#endregion-->
                    
                </DockPanel>

                <!--#region Discounts -->
                <StackPanel Margin="0,0">
                    <hc:Divider Orientation="Horizontal"
                                LineStrokeThickness="1"
                                LineStroke="{DynamicResource BorderBrush}" 
                                Margin="10"/>
                    <TextBlock Text="{StaticResource lngDiscounts}"
                               Style="{StaticResource CHeaderTextBlock}"
                               DockPanel.Dock="Top"
                               Margin="0,0,0,5" TextDecorations="Underline"/>
                    <!--#region Main - Seondary - Tertiary -->
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center">
                        <!--#region MainDiscount -->
                        <StackPanel x:Name="MainDiscountStackPanel"
                                    Margin="15,5"
                                    Grid.Row="3"
                                    Grid.Column="0">
                            <DockPanel>
                                <cc:Icon ToolTip="{StaticResource lngMainDiscountAccTooltip}"
                                         Style="{StaticResource CInfoTooltipIcon}" />
                                <TextBlock x:Name="MainDiscountTextBlock"
                                           Style="{StaticResource TitleTextBlockStyle}"
                                           Text="{StaticResource lngMainDiscountAcc}">
                                </TextBlock>
                                <TextBlock Text="(%)"
                                           Style="{StaticResource TitleTextBlockStyle}" />
                            </DockPanel>
                            <TextBox x:Name="MainDiscountTextBox"
                                     d:Text="50.00"
                                     Width="220"
                                     Text="{Binding OptionsUnderEdit.MainDiscountPercent ,Mode=TwoWay}"
                                     MaxLength="9">
                                <i:Interaction.Behaviors>
                                    <b:TextBoxNumericInputBehavior Precision="2"
                                                                   InputMode="DecimalInput" />
                                </i:Interaction.Behaviors>
                            </TextBox>
                        </StackPanel>
                        <!--#endregion-->
                        <!--#region SecondaryDiscount -->
                        <StackPanel x:Name="SecondaryDiscountStackPanel"
                                    Margin="15,5"
                                    Grid.Row="3"
                                    Grid.Column="0">
                            <DockPanel>
                                <cc:Icon ToolTip="{StaticResource lngSecondaryDiscountAccTooltip}"
                                         Style="{StaticResource CInfoTooltipIcon}" />
                                <TextBlock x:Name="SecondaryDiscountTextBlock"
                                           Style="{StaticResource TitleTextBlockStyle}"
                                           Text="{StaticResource lngSecondaryDiscountAcc}">
                                </TextBlock>
                                <TextBlock Text="(%)"
                                           Style="{StaticResource TitleTextBlockStyle}" />
                            </DockPanel>
                            <TextBox x:Name="SecondaryDiscountTextBox"
                                     d:Text="50.00"
                                     Width="220"
                                     Text="{Binding OptionsUnderEdit.SecondaryDiscountPercent ,Mode=TwoWay, TargetNullValue=''}"
                                     MaxLength="9">
                                <i:Interaction.Behaviors>
                                    <b:TextBoxNumericInputBehavior Precision="2"
                                                                   InputMode="DecimalInput" />
                                </i:Interaction.Behaviors>
                            </TextBox>
                        </StackPanel>
                        <!--#endregion-->
                        <!--#region TertiaryDiscount -->
                        <StackPanel x:Name="TertiaryDiscountStackPanel"
                                    Margin="15,5"
                                    Grid.Row="3"
                                    Grid.Column="0">
                            <DockPanel>
                                <cc:Icon ToolTip="{StaticResource lngTertiaryDiscountAccTooltip}"
                                         Style="{StaticResource CInfoTooltipIcon}" />
                                <TextBlock x:Name="TertiaryDiscountTextBlock"
                                           Style="{StaticResource TitleTextBlockStyle}"
                                           Text="{StaticResource lngTertiaryDiscountAcc}">
                                </TextBlock>
                                <TextBlock Text="(%)"
                                           Style="{StaticResource TitleTextBlockStyle}" />
                            </DockPanel>
                            <TextBox x:Name="TertiaryDiscountTextBox"
                                     d:Text="50.00"
                                     Width="220"
                                     Text="{Binding OptionsUnderEdit.TertiaryDiscountPercent ,Mode=TwoWay, TargetNullValue=''}"
                                     MaxLength="9">
                                <i:Interaction.Behaviors>
                                    <b:TextBoxNumericInputBehavior Precision="2"
                                                                   InputMode="DecimalInput" />
                                </i:Interaction.Behaviors>
                            </TextBox>
                        </StackPanel>
                        <!--#endregion-->
                    </StackPanel>
                    <!--#endregion-->

                    <!--#region Quantity Discounts -->
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                Margin="0,10">
                        <!--#region 1st QuantityDiscount -->
                        <StackPanel Orientation="Vertical">
                            <StackPanel x:Name="Quantity1StackPanel"
                                        Margin="15,5"
                                        Grid.Row="3"
                                        Grid.Column="0">
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngQuantityDiscPrimaryTooltip}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="Quantity1TextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngQuantityDiscPrimary}">
                                    </TextBlock>
                                    <TextBlock Text="(%)"
                                               Style="{StaticResource TitleTextBlockStyle}" />
                                </DockPanel>
                                <TextBox x:Name="Quantity1TextBox"
                                         d:Text="50.00"
                                         Text="{Binding OptionsUnderEdit.QuantityDiscPrimaryPercent ,Mode=TwoWay, TargetNullValue=''}"
                                         MaxLength="9">
                                    <i:Interaction.Behaviors>
                                        <b:TextBoxNumericInputBehavior Precision="2"
                                                                       InputMode="DecimalInput" />
                                    </i:Interaction.Behaviors>
                                </TextBox>
                            </StackPanel>
                            <StackPanel x:Name="Quantity1QuantityStackPanel"
                                        Margin="15,5"
                                        Grid.Row="3"
                                        Grid.Column="0">
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngQuantityDiscQuantityPrimaryTooltip}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="Quantity1QuantityTextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngQuantityDiscQuantityPrimary}">
                                    </TextBlock>
                                    <TextBlock Text="{StaticResource lngQuantityPcs}"
                                               Style="{StaticResource TitleTextBlockStyle}" />
                                </DockPanel>
                                <TextBox x:Name="Quantity1QuantityTextBox"
                                         d:Text="10"
                                         Text="{Binding OptionsUnderEdit.QuantityDiscQuantityPrimary,Mode=TwoWay, TargetNullValue=''}"
                                         MaxLength="9">
                                    <i:Interaction.Behaviors>
                                        <b:TextBoxNumericInputBehavior Precision="0"
                                                                       InputMode="DigitInput" />
                                    </i:Interaction.Behaviors>
                                </TextBox>
                            </StackPanel>
                        </StackPanel>
                        <!--#endregion-->
                        <!--#region 2nd QuantityDiscount -->
                        <StackPanel Orientation="Vertical">
                            <StackPanel x:Name="Quantity2StackPanel"
                                        Margin="15,5"
                                        Grid.Row="3"
                                        Grid.Column="0">
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngQuantityDiscSecondaryTooltip}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="Quantity2TextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngQuantityDiscSecondary}">
                                    </TextBlock>
                                    <TextBlock Text="(%)"
                                               Style="{StaticResource TitleTextBlockStyle}" />
                                </DockPanel>
                                <TextBox x:Name="Quantity2TextBox"
                                         d:Text="50.00"
                                         Text="{Binding OptionsUnderEdit.QuantityDiscSecondaryPercent ,Mode=TwoWay, TargetNullValue=''}"
                                         MaxLength="9">
                                    <i:Interaction.Behaviors>
                                        <b:TextBoxNumericInputBehavior Precision="2"
                                                                       InputMode="DecimalInput" />
                                    </i:Interaction.Behaviors>
                                </TextBox>
                            </StackPanel>
                            <StackPanel x:Name="Quantity2QuantityStackPanel"
                                        Margin="15,5"
                                        Grid.Row="3"
                                        Grid.Column="0">
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngQuantityDiscQuantitySecondaryTooltip}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="Quantity2QuantityTextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngQuantityDiscQuantitySecondary}">
                                    </TextBlock>
                                    <TextBlock Text="{StaticResource lngQuantityPcs}"
                                               Style="{StaticResource TitleTextBlockStyle}" />
                                </DockPanel>
                                <TextBox x:Name="Quantity2QuantityTextBox"
                                         d:Text="10"
                                         Text="{Binding OptionsUnderEdit.QuantityDiscQuantitySecondary,Mode=TwoWay, TargetNullValue=''}"
                                         MaxLength="9">
                                    <i:Interaction.Behaviors>
                                        <b:TextBoxNumericInputBehavior Precision="0"
                                                                       InputMode="DigitInput" />
                                    </i:Interaction.Behaviors>
                                </TextBox>
                            </StackPanel>
                        </StackPanel>
                        <!--#endregion-->
                        <!--#region 3rd QuantityDiscount -->
                        <StackPanel Orientation="Vertical">
                            <StackPanel x:Name="Quantity3StackPanel"
                                        Margin="15,5"
                                        Grid.Row="3"
                                        Grid.Column="0">
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngQuantityDiscTertiaryTooltip}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="Quantity3TextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngQuantityDiscTertiary}">
                                    </TextBlock>
                                    <TextBlock Text="(%)"
                                               Style="{StaticResource TitleTextBlockStyle}" />
                                </DockPanel>
                                <TextBox x:Name="Quantity3TextBox"
                                         d:Text="50.00"
                                         Text="{Binding OptionsUnderEdit.QuantityDiscTertiaryPercent ,Mode=TwoWay, TargetNullValue=''}"
                                         MaxLength="9">
                                    <i:Interaction.Behaviors>
                                        <b:TextBoxNumericInputBehavior Precision="2"
                                                                       InputMode="DecimalInput" />
                                    </i:Interaction.Behaviors>
                                </TextBox>
                            </StackPanel>
                            <StackPanel x:Name="Quantity3QuantityStackPanel"
                                        Margin="15,5"
                                        Grid.Row="3"
                                        Grid.Column="0">
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngQuantityDiscQuantityTertiaryTooltip}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="Quantity3QuantityTextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngQuantityDiscQuantityTertiary}">
                                    </TextBlock>
                                    <TextBlock Text="{StaticResource lngQuantityPcs}"
                                               Style="{StaticResource TitleTextBlockStyle}" />
                                </DockPanel>
                                <TextBox x:Name="Quantity3QuantityTextBox"
                                         d:Text="10"
                                         Text="{Binding OptionsUnderEdit.QuantityDiscQuantityTertiary,Mode=TwoWay, TargetNullValue=''}"
                                         MaxLength="9">
                                    <i:Interaction.Behaviors>
                                        <b:TextBoxNumericInputBehavior Precision="0"
                                                                       InputMode="DigitInput" />
                                    </i:Interaction.Behaviors>
                                </TextBox>
                            </StackPanel>
                        </StackPanel>
                        <!--#endregion-->
                    </StackPanel>
                    <!--#endregion-->

                </StackPanel>
                <!--#endregion-->

                <!--#region Price Rules -->
                <StackPanel Margin="0">
                    <hc:Divider Orientation="Horizontal"
                                LineStrokeThickness="1"
                                LineStroke="{DynamicResource BorderBrush}"
                                Margin="0,0,0,10" />
                    <TextBlock Text="{StaticResource lngCustomPriceRules}"
                               Style="{StaticResource CHeaderTextBlock}"
                               DockPanel.Dock="Top"
                               Margin="0,0,0,5" TextDecorations="Underline"/>
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center">

                        <!--#region ComboBox with Add Button -->
                        <StackPanel Orientation="Horizontal"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Margin="0,0,10,0">
                            <StackPanel>
                                <DockPanel>
                                    <cc:Icon ToolTip="{StaticResource lngAddRule}"
                                             Style="{StaticResource CInfoTooltipIcon}" />
                                    <TextBlock x:Name="AddSeriesTextBlock"
                                               Style="{StaticResource TitleTextBlockStyle}"
                                               Text="{StaticResource lngAddRule}">
                                    </TextBlock>
                                </DockPanel>
                                <hc:ComboBox x:Name="AllSeriesComboBox"
                                             ItemsSource="{Binding OptionsUnderEdit.AllCustomPriceRules}"
                                             SelectedValue="{Binding OptionsUnderEdit.SelectedCustomPriceRuleId}"
                                             SelectedValuePath="IdAsString"
                                             Width="200"
                                             VerticalAlignment="Center"
                                             hc:DropDownElement.ConsistentWidth="False">
                                    <ComboBox.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding Name, Converter={StaticResource LocalizedStringConverter}}" />
                                        </DataTemplate>
                                    </ComboBox.ItemTemplate>
                                </hc:ComboBox>
                            </StackPanel>
                            <Button Style="{StaticResource ButtonIconCircular}"
                                    hc:IconElement.Geometry="{StaticResource AddGeometry}"
                                    Foreground="{DynamicResource SuccessBrush}"
                                    Command="{Binding OptionsUnderEdit.AddCustomPriceRuleCommand}"
                                    VerticalAlignment="Bottom"
                                    Margin="15,0"
                                    ToolTip="{StaticResource lngAdd}" />
                        </StackPanel>
                        <!--#endregion-->

                        <!--#region ListBox with Title -->
                        <StackPanel VerticalAlignment="Center">
                            <DockPanel>
                                <cc:Icon ToolTip="{StaticResource lngSelectedCustomPriceRulesTooltip}"
                                         Style="{StaticResource CInfoTooltipIcon}" />
                                <TextBlock x:Name="SeriesTextBlock"
                                           Style="{StaticResource TitleTextBlockStyle}"
                                           Text="{StaticResource lngSelectedCustomPriceRules}">
                                </TextBlock>
                            </DockPanel>
                            <ListBox ItemsSource="{Binding OptionsUnderEdit.CustomPriceRules}"
                                     Height="180"
                                     Width="500" x:Name="RulesListbox">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <DockPanel LastChildFill="True"
                                                   ToolTip="{Binding Description, Converter={StaticResource LocalizedStringConverter}}"
                                                   ToolTipService.InitialShowDelay="0"
                                                   ToolTipService.Placement="Left"
                                                   ToolTipService.VerticalOffset="-10"
                                                   ToolTipService.HorizontalOffset="-10"
                                                   ToolTipService.PlacementTarget="{Binding ElementName=RulesListbox}">
                                            <Button Style="{StaticResource ButtonIconCircular.Small}"
                                                    Foreground="{DynamicResource DangerBrush}"
                                                    hc:IconElement.Geometry="{StaticResource RemoveGeometry}"
                                                    hc:IconElement.Height="8"
                                                    BorderBrush="{DynamicResource DangerBrush}"
                                                    Command="{Binding RelativeSource={RelativeSource AncestorType=UserControl, Mode=FindAncestor} , Path=DataContext.OptionsUnderEdit.RemoveCustomPriceRuleCommand}"
                                                    CommandParameter="{Binding .}" />
                                            <TextBlock Text="{Binding Name , Converter={StaticResource LocalizedStringConverter}}"
                                                       VerticalAlignment="Center"
                                                       TextAlignment="Center"
                                                       Margin="10,0"
                                                       Width="150" />
                                            <TextBlock Text="{Binding RuleValueDescription}"
                                                       VerticalAlignment="Center"
                                                       TextAlignment="Center"
                                                       Margin="10,0"/>
                                        </DockPanel>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>
                        </StackPanel>
                        <!--#endregion-->

                    </StackPanel>
                    <hc:Divider Orientation="Horizontal"
                                LineStrokeThickness="1"
                                LineStroke="{DynamicResource BorderBrush}"
                                Margin="10" />
                </StackPanel>
                <!--#endregion-->

                <!--#region Notes -->
                <DockPanel Grid.Row="10"
                           Grid.ColumnSpan="3"
                           Margin="0,0"
                           LastChildFill="True">
                    <TextBlock Text="{StaticResource lngNotes}"
                               Style="{StaticResource CHeaderTextBlock}"
                               DockPanel.Dock="Top"
                               Margin="0,0,0,5" />
                    <TextBox MaxLength="2000"
                             DockPanel.Dock="Top"
                             VerticalAlignment="Stretch"
                             Width="auto"
                             Height="100"
                             Padding="5"
                             ScrollViewer.VerticalScrollBarVisibility="Auto"
                             TextAlignment="Center"
                             VerticalContentAlignment="Center"
                             FontSize="14"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             d:Text="Test Notes"
                             Text="{Binding OptionsUnderEdit.BaseDescriptiveEntity.BaseEntity.Notes, Mode=TwoWay, UpdateSourceTrigger=LostFocus}" />
                </DockPanel>
                <!--#endregion-->

            </StackPanel>
        </Border>
        <!--#endregion-->

        <!--#endregion-->
    </Grid>
</UserControl>
